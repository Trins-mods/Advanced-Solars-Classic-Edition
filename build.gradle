plugins {
    id 'dev.architectury.loom' version '0.12.0-SNAPSHOT'
    id 'maven-publish'
}
apply plugin: "java"

java.toolchain.languageVersion = JavaLanguageVersion.of(17)
//Only edit below this line, the above code adds and enables the necessary things for Forge to be setup.


loom {
    silentMojangMappingsLicense()
}

version = "${mod_version}"
group = "trinsdar.advancedsolars" // http://maven.apache.org/guides/mini/guide-naming-conventions.html
archivesBaseName = "advancedsolars"

repositories{
    maven {
        name = 'parchment'
        url = 'https://maven.parchmentmc.org'
    }
    maven {
        // location of the maven that hosts JEI files since January 2023
        name = "Jared's maven"
        url = "https://maven.blamejared.com/"
    }
    maven { url "https://maven.shedaniel.me" }
    maven {
        url "https://cursemaven.com"
    }
}

dependencies {
    minecraft "com.mojang:minecraft:${project.minecraft_version}"
    mappings loom.layered() {
        officialMojangMappings()
        parchment("org.parchmentmc.data:parchment-${rootProject.minecraft_version}:${rootProject.mappings_version}@zip")
    }
    forge "net.minecraftforge:forge:${minecraft_version}-${forge_version}"
    //modImplementation fileTree(include: ['*.jar'], dir: 'libs')
    modImplementation("curse.maven:ic2_classic-242942:4879119")
//    modImplementation("mezz.jei:jei-${minecraft_version}-forge:${jei_version}")
//    modImplementation("mezz.jei:jei-${minecraft_version}-forge-api:${jei_version}")
    modImplementation("curse.maven:jei-238222:4712866")
    //modRuntimeOnly "me.shedaniel:RoughlyEnoughItems-forge:${rootProject.rei_version}"
    //modRuntimeOnly "me.shedaniel:RoughlyEnoughItems-plugin-compatibilities-forge:9.1.530"
}

processResources {
    // this will ensure that this task is redone when the versions change.
    inputs.property "version", project.mod_version

    filesMatching("META-INF/mods.toml") {
        expand "version": project.mod_version
    }
}